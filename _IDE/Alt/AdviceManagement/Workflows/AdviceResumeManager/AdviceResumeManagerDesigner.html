<!-- Advice Resume Manager Designer -->
<div class="advice-resume-manager-designer">
    
    <div data-bind="widgetChrome:{ icon: 'fa-play-circle', title: 'Advice Resume Manager Configuration' }">
        <!-- Info Button -->
        <div class="chrome-header-actions" style="float: right; margin-top: -30px; margin-right: 10px;">
            <button type="button" class="btn btn-link btn-sm info-button" 
                    data-bind="click: showInfo" 
                    title="Show detailed information about this workflow action">
                <i class="fa fa-info-circle text-info"></i>
            </button>
        </div>
        <p class="help-block">
            <i class="fa fa-info-circle"></i>
            This action restores previously paused advice from saved state or creates new default advice.
            Configure which variables to use for input and output.
        </p>
        
        <!-- Work Item ID Input -->
        <div class="form-group">
            <label>Work Item ID: <span class="text-danger">*</span></label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.workItemIdVariable } -->
            <!-- /ko -->
            <div class="help-block">Variable containing the work item ID to resume advice for</div>
            <!-- ko if: action.validation.workItemIdVariable -->
            <div class="text-danger">
                <i class="fa fa-exclamation-triangle"></i>
                <span data-bind="text: action.validation.workItemIdVariable"></span>
            </div>
            <!-- /ko -->
        </div>

        <!-- New Due Date Input (Optional) -->
        <div class="form-group">
            <label>New Due Date:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.newDueDateVariable } -->
            <!-- /ko -->
            <div class="help-block">Variable containing new due date for resumed/created advice (optional)</div>
        </div>

        <!-- Resume Reason Input -->
        <div class="form-group">
            <label>Resume Reason:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.resumeReasonVariable } -->
            <!-- /ko -->
            <div class="help-block">Variable containing reason for resuming (defaults to "Advice resumed by workflow")</div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-arrow-right', title: 'Output Variables (Optional)' }">
        <p class="help-block">Configure which variables to populate with operation results:</p>
        
        <!-- Success Variable -->
        <div class="form-group">
            <label>Success:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.successVariable } -->
            <!-- /ko -->
            <div class="help-block">Boolean: true if operation succeeded, false if failed</div>
        </div>
        
        <!-- Message Variable -->
        <div class="form-group">
            <label>Message:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.messageVariable } -->
            <!-- /ko -->
            <div class="help-block">Text message describing the operation result</div>
        </div>
        
        <!-- Restored Count -->
        <div class="form-group">
            <label>Restored Count:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.restoredCountVariable } -->
            <!-- /ko -->
            <div class="help-block">Number of advice items restored from saved state</div>
        </div>
        
        <!-- Created Count -->
        <div class="form-group">
            <label>Created Count:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.createdCountVariable } -->
            <!-- /ko -->
            <div class="help-block">Number of new advice items created</div>
        </div>
        
        <!-- Resumed Date -->
        <div class="form-group">
            <label>Resumed Date:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.resumedDateVariable } -->
            <!-- /ko -->
            <div class="help-block">ISO date when advice was resumed</div>
        </div>
        
        <!-- Error Count Variable -->
        <div class="form-group">
            <label>Error Count:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.errorCountVariable } -->
            <!-- /ko -->
            <div class="help-block">Number of errors encountered during operation</div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-cogs', title: 'Configuration Options' }">
        <p class="help-block">Configure how the resume operation behaves:</p>
        
        <div class="form-group">
            <label>Abstract Advice Type: <span class="text-danger">*</span></label>
            <input type="text" class="form-control" 
                   data-bind="textInput: action.config.abstractAdviceTypeSystemName" 
                   placeholder="AbstractAdvice" />
            <div class="help-block">Base type that all advice types inherit from</div>
            <!-- ko if: action.validation.abstractAdviceTypeSystemName -->
            <div class="text-danger">
                <i class="fa fa-exclamation-triangle"></i>
                <span data-bind="text: action.validation.abstractAdviceTypeSystemName"></span>
            </div>
            <!-- /ko -->
        </div>
        
        <div class="form-group">
            <label>Default Advice Type:</label>
            <input type="text" class="form-control" 
                   data-bind="textInput: action.config.defaultAdviceTypeSystemName" 
                   placeholder="StandardAdvice" />
            <div class="help-block">Type of advice to create if no saved state exists</div>
        </div>
        
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox" data-bind="checked: action.config.createDefaultIfNoSavedState" />
                    Create Default If No Saved State
                </label>
                <div class="help-block">Create new default advice if no saved state is found</div>
            </div>
        </div>
        
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox" data-bind="checked: action.config.enableLogging" />
                    Enable Detailed Logging
                </label>
                <div class="help-block">Log comprehensive execution information for debugging</div>
            </div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-code-fork', title: 'Output Branches' }">
        <div class="alert alert-info">
            <ul class="list-unstyled">
                <li><span class="label label-success">Success</span> - Operation completed successfully</li>
                <li><span class="label label-primary">Restored</span> - Advice items were restored from saved state</li>
                <li><span class="label label-info">Created</span> - New advice items were created</li>
                <li><span class="label label-warning">No Action</span> - Advice was already active</li>
                <li><span class="label label-danger">Error</span> - Operation failed or encountered errors</li>
            </ul>
        </div>
    </div>
    
</div>