<!-- Advice Pause Manager Designer -->
<div class="advice-pause-manager-designer">
    
    <div data-bind="widgetChrome:{ icon: 'fa-pause-circle', title: 'Advice Pause Manager Configuration' }">
        <!-- Info Button -->
        <div class="chrome-header-actions" style="float: right; margin-top: -30px; margin-right: 10px;">
            <button type="button" class="btn btn-link btn-sm info-button" 
                    data-bind="click: showInfo" 
                    title="Show detailed information about this workflow action">
                <i class="fa fa-info-circle text-info"></i>
            </button>
        </div>
        <p class="help-block">
            <i class="fa fa-info-circle"></i>
            This action finds active advice items, saves their state (optional), and moves them to paused phase.
            Configure which variables to use for input and output.
        </p>
        
        <!-- Work Item ID Input -->
        <div class="form-group">
            <label>Work Item ID: <span class="text-danger">*</span></label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.workItemIdVariable } -->
            <!-- /ko -->
            <div class="help-block">Variable containing the work item ID to pause advice for</div>
            <!-- ko if: action.validation.workItemIdVariable -->
            <div class="text-danger">
                <i class="fa fa-exclamation-triangle"></i>
                <span data-bind="text: action.validation.workItemIdVariable"></span>
            </div>
            <!-- /ko -->
        </div>

        <!-- Pause Reason Input -->
        <div class="form-group">
            <label>Pause Reason:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.pauseReasonVariable } -->
            <!-- /ko -->
            <div class="help-block">Variable containing reason for pausing (defaults to "Advice paused by workflow")</div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-arrow-right', title: 'Output Variables (Optional)' }">
        <p class="help-block">Configure which variables to populate with operation results:</p>
        
        <!-- Success Variable -->
        <div class="form-group">
            <label>Success:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.successVariable } -->
            <!-- /ko -->
            <div class="help-block">Boolean: true if operation succeeded, false if failed</div>
        </div>
        
        <!-- Message Variable -->
        <div class="form-group">
            <label>Message:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.messageVariable } -->
            <!-- /ko -->
            <div class="help-block">Text message describing the operation result</div>
        </div>
        
        <!-- Found Advice Count -->
        <div class="form-group">
            <label>Found Advice Count:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.foundAdviceCountVariable } -->
            <!-- /ko -->
            <div class="help-block">Number of advice items found</div>
        </div>
        
        <!-- Paused Advice Count -->
        <div class="form-group">
            <label>Paused Advice Count:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.pausedAdviceCountVariable } -->
            <!-- /ko -->
            <div class="help-block">Number of advice items successfully paused</div>
        </div>
        
        <!-- Saved State Variable -->
        <div class="form-group">
            <label>Saved State:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.savedStateVariable } -->
            <!-- /ko -->
            <div class="help-block">Boolean: true if advice state was saved for restoration</div>
        </div>
        
        <!-- Paused Date -->
        <div class="form-group">
            <label>Paused Date:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.pausedDateVariable } -->
            <!-- /ko -->
            <div class="help-block">ISO date when advice was paused</div>
        </div>
        
        <!-- Error Count Variable -->
        <div class="form-group">
            <label>Error Count:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.errorCountVariable } -->
            <!-- /ko -->
            <div class="help-block">Number of errors encountered during operation</div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-cogs', title: 'Configuration Options' }">
        <p class="help-block">Configure how the pause operation behaves:</p>
        
        <div class="form-group">
            <label>Abstract Advice Type: <span class="text-danger">*</span></label>
            <input type="text" class="form-control" 
                   data-bind="textInput: action.config.abstractAdviceTypeSystemName" 
                   placeholder="AbstractAdvice" />
            <div class="help-block">Base type that all advice types inherit from</div>
            <!-- ko if: action.validation.abstractAdviceTypeSystemName -->
            <div class="text-danger">
                <i class="fa fa-exclamation-triangle"></i>
                <span data-bind="text: action.validation.abstractAdviceTypeSystemName"></span>
            </div>
            <!-- /ko -->
        </div>
        
        <div class="form-group">
            <label>Paused Phase:</label>
            <input type="text" class="form-control" 
                   data-bind="textInput: action.config.pausedPhase" 
                   placeholder="Removed" />
            <div class="help-block">Phase to move advice to when pausing</div>
        </div>
        
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox" data-bind="checked: action.config.saveAdviceState" />
                    Save Advice State
                </label>
                <div class="help-block">Save complete advice information for later restoration</div>
            </div>
        </div>
        
        <div class="form-group">
            <div class="checkbox">
                <label>
                    <input type="checkbox" data-bind="checked: action.config.enableLogging" />
                    Enable Detailed Logging
                </label>
                <div class="help-block">Log comprehensive execution information for debugging</div>
            </div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-code-fork', title: 'Output Branches' }">
        <div class="alert alert-info">
            <ul class="list-unstyled">
                <li><span class="label label-success">Success</span> - Operation completed successfully</li>
                <li><span class="label label-primary">Paused</span> - Advice items were paused</li>
                <li><span class="label label-info">No Advice</span> - No advice items found to pause</li>
                <li><span class="label label-warning">Already Paused</span> - Advice was already paused</li>
                <li><span class="label label-danger">Error</span> - Operation failed or encountered errors</li>
            </ul>
        </div>
    </div>
    
</div>