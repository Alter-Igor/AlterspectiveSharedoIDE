{
    "id": "Alt.AdviceManagement.AdviceStatusController",
    "version": "1.0.0",
    "type": "workflowAction",
    "priority": 8000,
    "metadata": {
        "name": "Advice Status Controller",
        "description": "Workflow action that checks work item advice status and performs conditional actions (pause/resume/toggle)",
        "category": "Advice Management",
        "icon": "fa-code-fork",
        "author": "Alterspective",
        "documentation": "Controls advice workflow status based on configurable conditions"
    },
    "designer": {
        "allowInWorkflowDesigner": true,
        "allowInVisualWorkflow": true,
        "configurable": true,
        "configurationComponent": "Alt.AdviceManagement.AdviceStatusControllerDesigner",
        "inputs": [
            {
                "name": "workItemId",
                "type": "/Identifier/Work Item Identifier",
                "required": true,
                "description": "ID of the work item to check"
            },
            {
                "name": "pauseReason",
                "type": "/String",
                "required": false,
                "description": "Reason for pausing advice (if action is pause)"
            }
        ],
        "outputs": [
            {
                "name": "actionTaken",
                "type": "/String",
                "description": "Action that was performed (none/paused/resumed/toggled)"
            },
            {
                "name": "previousStatus",
                "type": "/String",
                "description": "Status before action"
            },
            {
                "name": "currentStatus",
                "type": "/String",
                "description": "Status after action"
            },
            {
                "name": "success",
                "type": "/Boolean",
                "description": "Whether the action completed successfully"
            },
            {
                "name": "errorMessage",
                "type": "/String",
                "description": "Error message if action failed"
            },
            {
                "name": "pausedDate",
                "type": "/DateTime",
                "description": "Date when advice was paused (if applicable)"
            },
            {
                "name": "resumedDate", 
                "type": "/DateTime",
                "description": "Date when advice was resumed (if applicable)"
            },
            {
                "name": "lastActionDate",
                "type": "/DateTime", 
                "description": "Date of the last action performed"
            }
        ],
        "branches": [
            {
                "id": "success",
                "label": "Success",
                "color": "#28a745"
            },
            {
                "id": "paused",
                "label": "Advice Paused",
                "color": "#ffc107"
            },
            {
                "id": "resumed",
                "label": "Advice Resumed",
                "color": "#17a2b8"
            },
            {
                "id": "noAction",
                "label": "No Action Taken",
                "color": "#6c757d"
            },
            {
                "id": "error",
                "label": "Error",
                "color": "#dc3545"
            }
        ]
    },
    "configuration": {
        "defaultAction": "checkOnly",
        "conditions": [
            {
                "when": "active",
                "then": "doNothing"
            },
            {
                "when": "paused",
                "then": "doNothing"
            },
            {
                "when": "none",
                "then": "doNothing"
            }
        ],
        "pauseReason": "Workflow automated pause",
        "requireConfirmation": false,
        "enableLogging": true,
        "retryOnFailure": true,
        "maxRetries": 3,
        "retryDelay": 1000,
        "timeout": 30000
    },
    "scripts": [
        "/_ideFiles/Alt/AdviceManagement/Workflows/AdviceStatusController/AdviceStatusController.js",
        "/_ideFiles/Alt/AdviceManagement/Foundation/Services/AdviceService.js"
    ],
    "styles": [
        "/_ideFiles/Alt/AdviceManagement/Workflows/AdviceStatusController/AdviceStatusController.css"
    ],
    "templates": [
        "/_ideFiles/Alt/AdviceManagement/Workflows/AdviceStatusController/AdviceStatusController.html"
    ],
    "dependencies": [
        "jquery",
        "knockout"
    ]
}