<!-- Advice Status Checker Designer -->
<div class="advice-status-checker-designer">
    
    <div data-bind="widgetChrome:{ icon: 'fa-search', title: 'Advice Status Checker Configuration' }">
        <p class="help-block">
            <i class="fa fa-info-circle"></i>
            This action checks the advice status for a work item and branches to either "Advice Running" or "Advice Paused".
            Configure which variables to use for input and output.
        </p>
        
        <!-- Work Item ID Input -->
        <div class="form-group">
            <label>Work Item ID: <span class="text-danger">*</span></label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.workItemIdVariable } -->
            <!-- /ko -->
            <div class="help-block">Variable containing the work item ID to check</div>
            <!-- ko if: action.validation.workItemIdVariable -->
            <div class="text-danger">
                <i class="fa fa-exclamation-triangle"></i>
                <span data-bind="text: action.validation.workItemIdVariable"></span>
            </div>
            <!-- /ko -->
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-arrow-right', title: 'Output Variables (Optional)' }">
        <p class="help-block">Configure which variables to populate with advice information:</p>
        
        <!-- Status Variable -->
        <div class="form-group">
            <label>Status Text:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.statusVariable } -->
            <!-- /ko -->
            <div class="help-block">Will contain "active" or "paused"</div>
        </div>
        
        <!-- Is Enabled Variable -->
        <div class="form-group">
            <label>Is Enabled:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.isEnabledVariable } -->
            <!-- /ko -->
            <div class="help-block">Boolean: true if advice is running, false if paused</div>
        </div>
        
        <!-- Pause Information -->
        <div class="form-group">
            <label>Paused Date:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.pausedDateVariable } -->
            <!-- /ko -->
            <div class="help-block">ISO date when advice was paused (if applicable)</div>
        </div>
        
        <div class="form-group">
            <label>Paused By:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.pausedByVariable } -->
            <!-- /ko -->
            <div class="help-block">Name of user who paused advice</div>
        </div>
        
        <div class="form-group">
            <label>Pause Reason:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.pauseReasonVariable } -->
            <!-- /ko -->
            <div class="help-block">Reason provided when advice was paused</div>
        </div>
        
        <!-- Resume Information -->
        <div class="form-group">
            <label>Resumed Date:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.resumedDateVariable } -->
            <!-- /ko -->
            <div class="help-block">ISO date when advice was last resumed</div>
        </div>
        
        <div class="form-group">
            <label>Resumed By:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.resumedByVariable } -->
            <!-- /ko -->
            <div class="help-block">Name of user who resumed advice</div>
        </div>
        
        <div class="form-group">
            <label>Resume Reason:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.resumeReasonVariable } -->
            <!-- /ko -->
            <div class="help-block">Reason provided when advice was resumed</div>
        </div>
        
        <!-- Next Advice Date -->
        <div class="form-group">
            <label>Next Advice Date:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.nextAdviceDateVariable } -->
            <!-- /ko -->
            <div class="help-block">ISO date when next advice is scheduled</div>
        </div>
        
        <!-- Error Message Variable -->
        <div class="form-group">
            <label>Error Message:</label>
            <!-- ko component: { name: "core-wf-variable-selector", params: action.ui.errorMessageVariable } -->
            <!-- /ko -->
            <div class="help-block">Will contain error message if the check fails</div>
        </div>
    </div>
    
    <div data-bind="widgetChrome:{ icon: 'fa-code-fork', title: 'Output Branches' }">
        <div class="alert alert-info">
            <ul class="list-unstyled">
                <li><span class="label label-success">Advice Running</span> - Advice is currently active/enabled</li>
                <li><span class="label label-warning">Advice Paused</span> - Advice is currently paused/disabled</li>
                <li><span class="label label-danger">Error</span> - Failed to check advice status</li>
            </ul>
        </div>
    </div>
    
</div>